# 更新

### 更新与删除操作需在事务下进行，需根据返回的影响条数做回滚等处理

对影响条数的判断可以避免拼接条件组合问题等情况导致全表更新/删除


### 表的 加锁查询/更新 顺序需一致，避免死锁导致性能问题

阿里规约 一、 编程规约 (七) 并发处理\
8.【强制】对多个资源、数据库表、对象同时加锁时，需要保持一致的加锁顺序，否则可能会造成死锁。

### 在类似非分布式系统互相转账的场景中，先锁卡号/账号小的一方